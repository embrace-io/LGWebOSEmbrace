import type { HrTime, TracerProvider } from '@opentelemetry/api';
import type { PropertyOptions, ReasonSessionEnded, StartSessionOptions } from '../../api-sessions/index.js';
import type { EmbraceSpanSessionManagerArgs, SessionEndedListener, SessionStartedListener, SpanSessionManagerInternal } from './types.js';
import type { ExtendedSpan } from '../../index.js';
import type { ReadableSpan } from '@opentelemetry/sdk-trace-web';
export declare class EmbraceSpanSessionManager implements SpanSessionManagerInternal {
    private _activeSessionId;
    private _activeSessionStartTime;
    private _sessionSpan;
    private _activeSessionCounts;
    private _coldStart;
    private _sdkStartupDuration;
    private readonly _sessionStartedListeners;
    private readonly _sessionEndedListeners;
    private readonly _currentTab;
    private _tracer;
    private readonly _noExportTracer;
    private readonly _diag;
    private readonly _perf;
    private readonly _visibilityDoc;
    private readonly _storage;
    private readonly _sessionStorage;
    private readonly _limitManager;
    private readonly _referrer;
    constructor({ diag: diagParam, perf, visibilityDoc, storage, sessionStorage, limitManager, referrer, }: EmbraceSpanSessionManagerArgs);
    private _getPermanentAttributes;
    _getSessionNumber(): number;
    addBreadcrumb(name: string): void;
    addProperty(propertyKey: string, value: string, options?: PropertyOptions): void;
    removeProperty(propertyKey: string): void;
    endSessionSpan(): void;
    endSessionSpanInternal(reason: ReasonSessionEnded): void;
    private _endSessionSpanAttributes;
    currentSessionAsReadableSpan(reason: ReasonSessionEnded): ReadableSpan | null;
    getSessionId(): string | null;
    getSessionSpan(): ExtendedSpan | null;
    getSessionStartTime(): HrTime | null;
    startSessionSpan(options?: StartSessionOptions): void;
    incrSessionCountForKey(key: string): void;
    addSessionStartedListener(listener: SessionStartedListener): () => void;
    addSessionEndedListener(listener: SessionEndedListener): () => void;
    recordSDKStartupDuration(duration: number): void;
    setTracerProvider(tracerProvider: TracerProvider): void;
    private _initTab;
    private _findParentFromLastActivity;
    private _getLastTabActivity;
    private _saveLastTabActivity;
    private _recordActivity;
    private _setupListeners;
}
//# sourceMappingURL=EmbraceSpanSessionManager.d.ts.map