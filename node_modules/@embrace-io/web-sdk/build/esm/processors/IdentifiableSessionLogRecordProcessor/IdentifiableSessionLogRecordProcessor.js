import { ATTR_SESSION_ID, ATTR_LOG_RECORD_UID } from '@opentelemetry/semantic-conventions/incubating';
import { generateUUID } from '../../utils/generateUUID.js';

class IdentifiableSessionLogRecordProcessor {
    constructor({ spanSessionManager }){
        this._spanSessionManager = spanSessionManager;
    }
    // no-op
    forceFlush() {
        return Promise.resolve(undefined);
    }
    onEmit(logRecord) {
        logRecord.setAttributes({
            [ATTR_LOG_RECORD_UID]: generateUUID(),
            [ATTR_SESSION_ID]: this._spanSessionManager.getSessionId()
        });
    }
    // no-op
    shutdown() {
        return Promise.resolve(undefined);
    }
}

export { IdentifiableSessionLogRecordProcessor };
//# sourceMappingURL=IdentifiableSessionLogRecordProcessor.js.map
