import { ATTR_USER_ID } from '@opentelemetry/semantic-conventions/incubating';

/**
 * UserLogRecordProcessor sets the userId attribute on all log records if the userId is set in the UserManager.
 */ class UserLogRecordProcessor {
    constructor({ userManager }){
        this._userManager = userManager;
    }
    // no-op
    forceFlush() {
        return Promise.resolve(undefined);
    }
    onEmit(logRecord) {
        const userId = this._userManager.getUserId();
        if (userId) {
            logRecord.setAttributes({
                [ATTR_USER_ID]: this._userManager.getUserId()
            });
        }
    }
    // no-op
    shutdown() {
        return Promise.resolve(undefined);
    }
}

export { UserLogRecordProcessor };
//# sourceMappingURL=UserLogRecordProcessor.js.map
