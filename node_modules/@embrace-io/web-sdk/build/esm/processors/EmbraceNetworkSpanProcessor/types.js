import { ATTR_HTTP_REQUEST_METHOD, SEMATTRS_HTTP_METHOD, ATTR_HTTP_RESPONSE_STATUS_CODE, SEMATTRS_HTTP_STATUS_CODE, ATTR_URL_FULL, SEMATTRS_HTTP_URL } from '@opentelemetry/semantic-conventions';

const SCHEME_RE = /.+:\/\/.+/;
const isNetworkSpan = (span)=>{
    if ((span.attributes[ATTR_HTTP_REQUEST_METHOD] || // eslint-disable-next-line @typescript-eslint/no-deprecated
    span.attributes[SEMATTRS_HTTP_METHOD]) && (typeof span.attributes[ATTR_HTTP_RESPONSE_STATUS_CODE] === 'number' || // eslint-disable-next-line @typescript-eslint/no-deprecated
    typeof span.attributes[SEMATTRS_HTTP_STATUS_CODE] === 'number')) {
        const url = span.attributes[ATTR_URL_FULL] ?? span.attributes[SEMATTRS_HTTP_URL];
        return !!(url && typeof url === 'string' && SCHEME_RE.exec(url));
    }
    return false;
}; // not used yet, but added for clarity. This is the type for Embrace tagged network spans
 // interface EmbraceNetworkSpanAttributes extends Attributes {
 //   [KEY_EMB_TYPE]: EMB_TYPES.Network;
 // }
 // interface EmbraceNetworkSpan extends NetworkSpan {
 //   attributes: NetworkSpanAttributes & EmbraceNetworkSpanAttributes;
 // }

export { isNetworkSpan };
//# sourceMappingURL=types.js.map
