{"version":3,"file":"UserAPI.js","sources":["../../../../../src/api-users/api/UserAPI/UserAPI.ts"],"sourcesContent":["import { ProxyUserManager } from '../../manager/index.js';\nimport type { UserManager } from '../../manager/index.js';\nimport type { UserAPIArgs } from './types.js';\n\nexport class UserAPI implements UserManager {\n  private static _instance?: UserAPI;\n  private readonly _proxyUserManager;\n\n  private constructor({ proxyUserManager }: UserAPIArgs) {\n    this._proxyUserManager = proxyUserManager;\n  }\n\n  public static getInstance(): UserAPI {\n    if (!UserAPI._instance) {\n      UserAPI._instance = new UserAPI({\n        proxyUserManager: new ProxyUserManager(),\n      });\n    }\n\n    return UserAPI._instance;\n  }\n\n  public getUserManager(): UserManager {\n    return this._proxyUserManager;\n  }\n\n  public setGlobalUserManager(userManager: UserManager): void {\n    this._proxyUserManager.setDelegate(userManager);\n  }\n\n  public getEmbraceUserId(): string {\n    return this.getUserManager().getEmbraceUserId();\n  }\n\n  public getUserId(): string | null {\n    return this.getUserManager().getUserId();\n  }\n\n  public setUserId(userId: string): void {\n    this.getUserManager().setUserId(userId);\n  }\n\n  public clearUserId(): void {\n    this.getUserManager().clearUserId();\n  }\n}\n"],"names":["UserAPI","proxyUserManager","_proxyUserManager","getInstance","_instance","ProxyUserManager","getUserManager","setGlobalUserManager","userManager","setDelegate","getEmbraceUserId","getUserId","setUserId","userId","clearUserId"],"mappings":";;AAIO,MAAMA,OAAAA,CAAAA;IAIX,WAAA,CAAoB,EAAEC,gBAAgB,EAAe,CAAE;QACrD,IAAI,CAACC,iBAAiB,GAAGD,gBAAAA;AAC3B,IAAA;AAEA,IAAA,OAAcE,WAAAA,GAAuB;QACnC,IAAI,CAACH,OAAAA,CAAQI,SAAS,EAAE;YACtBJ,OAAAA,CAAQI,SAAS,GAAG,IAAIJ,OAAAA,CAAQ;AAC9BC,gBAAAA,gBAAAA,EAAkB,IAAII,gBAAAA;AACxB,aAAA,CAAA;AACF,QAAA;AAEA,QAAA,OAAOL,QAAQI,SAAS;AAC1B,IAAA;IAEOE,cAAAA,GAA8B;QACnC,OAAO,IAAI,CAACJ,iBAAiB;AAC/B,IAAA;AAEOK,IAAAA,oBAAAA,CAAqBC,WAAwB,EAAQ;AAC1D,QAAA,IAAI,CAACN,iBAAiB,CAACO,WAAW,CAACD,WAAAA,CAAAA;AACrC,IAAA;IAEOE,gBAAAA,GAA2B;AAChC,QAAA,OAAO,IAAI,CAACJ,cAAc,EAAA,CAAGI,gBAAgB,EAAA;AAC/C,IAAA;IAEOC,SAAAA,GAA2B;AAChC,QAAA,OAAO,IAAI,CAACL,cAAc,EAAA,CAAGK,SAAS,EAAA;AACxC,IAAA;AAEOC,IAAAA,SAAAA,CAAUC,MAAc,EAAQ;AACrC,QAAA,IAAI,CAACP,cAAc,EAAA,CAAGM,SAAS,CAACC,MAAAA,CAAAA;AAClC,IAAA;IAEOC,WAAAA,GAAoB;QACzB,IAAI,CAACR,cAAc,EAAA,CAAGQ,WAAW,EAAA;AACnC,IAAA;AACF;;;;"}