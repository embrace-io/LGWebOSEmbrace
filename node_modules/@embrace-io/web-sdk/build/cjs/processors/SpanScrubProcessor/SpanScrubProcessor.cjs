'use strict';

class SpanScrubProcessor {
    constructor({ attributeScrubbers }){
        this._attributeScrubbers = attributeScrubbers;
    }
    forceFlush() {
        return Promise.resolve(undefined);
    }
    // TODO `onEnd` is not supposed to modify the span. There is a new experimental onEnding api that allows modifying
    onEnd(span) {
        this._attributeScrubbers.forEach((scrubber)=>{
            const value = span.attributes[scrubber.key];
            if (value && typeof value === 'string') {
                span.attributes[scrubber.key] = scrubber.scrub(value);
            }
        });
    }
    onStart() {
    // do nothing.
    }
    shutdown() {
        return Promise.resolve(undefined);
    }
}

exports.SpanScrubProcessor = SpanScrubProcessor;
//# sourceMappingURL=SpanScrubProcessor.cjs.map
